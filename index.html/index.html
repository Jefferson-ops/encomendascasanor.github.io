<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Controle de Encomendas - Condomínio Casa Nor</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <header>
            <h1>
                <i class="fas fa-box-open"></i>
                Controle de Encomendas
                <button id="toggle-theme" aria-label="Alternar tema" title="Alternar tema" style="margin-left:15px; background:none; border:none; cursor:pointer; font-size:1.5rem;">
                    <i id="theme-icon" class="fas fa-moon"></i>
                </button>
            </h1>
            <p>Condomínio Casa Nor</p>
            <div class="header-info">
                <span id="current-date"></span>
                <span id="pending-count">0 encomendas pendentes</span>
            </div>
        </header>

        <div class="card">
            <div class="tabs">
                <div class="tab active" data-tab="register">Registrar Encomenda</div>
                <div class="tab" data-tab="pending">Pendentes</div>
                <div class="tab" data-tab="delivered">Entregues</div>
                <div class="tab" data-tab="all">Todas</div>
            </div>

            <div id="register-tab" class="tab-content active">
                <form id="package-form">
                    <div class="form-group">
                        <label for="resident"><i class="fas fa-user"></i> Nome do Morador:</label>
                        <input type="text" id="resident" placeholder="Nome do morador" required>
                    </div>
                    <div class="form-group">
                        <label for="apartment"><i class="fas fa-building"></i> Unidade:</label>
                        <select id="apartment" required>
                            <option value="">Selecione a unidade...</option>
                            <option value="101">101</option>
                            <option value="102">102</option>
                            <option value="103">103</option>
                            <option value="104">104</option>
                            <option value="201">201</option>
                            <option value="202">202</option>
                            <option value="203">203</option>
                            <option value="204">204</option>
                            <option value="205">205</option>
                            <option value="206">206</option>
                            <option value="301">301</option>
                            <option value="302">302</option>
                            <option value="303">303</option>
                            <option value="304">304</option>
                            <option value="401">401</option>
                            <option value="402">402</option>
                            <option value="403">403</option>
                            <option value="404">404</option>
                            <option value="405">405</option>
                            <option value="406">406</option>
                            <option value="501">501</option>
                            <option value="502">502</option>
                            <option value="503">503</option>
                            <option value="504">504</option>
                            <option value="601">601</option>
                            <option value="602">602</option>
                            <option value="603">603</option>
                            <option value="604">604</option>
                            <option value="605">605</option>
                            <option value="606">606</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="receivedBy"><i class="fas fa-user-tie"></i> Funcionário/a que recebeu:</label>
                        <select id="receivedBy" required>
                            <option value="">Selecione o funcionário...</option>
                            <option value="Agp Bárbara Oliveira">Agp Bárbara Oliveira</option>
                            <option value="Agp Fernanda Lima">Agp Fernanda Lima</option>
                            <option value="Agp Rafael Magalhães">Agp Rafael Magalhães</option>
                            <option value="Agp Thomas Jeferson">Agp Thomas Jeferson</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="description"><i class="fas fa-tag"></i> Descrição:</label>
                        <input type="text" id="description" placeholder="Ex: Pacote, Documento, Encomenda Pequena" required>
                    </div>
                    <div class="form-group">
                        <label for="courier"><i class="fas fa-truck"></i> Transportadora/Entregador:</label>
                        <input type="text" id="courier" placeholder="Ex: Correios, Mercado Livre, Loggi">
                    </div>
                    <div class="form-group">
                        <label for="notes"><i class="fas fa-sticky-note"></i> Observações:</label>
                        <textarea id="notes" placeholder="Detalhes adicionais"></textarea>
                    </div>
                    <button type="submit" class="btn btn-primary">
                        <i class="fas fa-save"></i> Registrar Encomenda
                    </button>
                </form>
            </div>

            <div id="pending-tab" class="tab-content">
                <table id="pending-table">
                    <thead>
                        <tr>
                            <th>Data</th>
                            <th>Unidade</th>
                            <th>Morador</th>
                            <th>Descrição</th>
                            <th>Entregador</th>
                            <th>Funcionário/a que recebeu</th>
                            <th>Status</th>
                            <th>Ações</th>
                        </tr>
                    </thead>
                    <tbody></tbody>
                </table>
            </div>

            <div id="delivered-tab" class="tab-content">
                <table id="delivered-table">
                    <thead>
                        <tr>
                            <th>Data/Hora Receb.</th>
                            <th>Data/Hora Entr.</th>
                            <th>Unidade</th>
                            <th>Morador</th>
                            <th>Descrição</th>
                            <th>Entregador</th>
                            <th>Funcionário/a Entregou</th>
                        </tr>
                    </thead>
                    <tbody></tbody>
                </table>
            </div>

            <div id="all-tab" class="tab-content">
                <table id="all-table">
                    <thead>
                        <tr>
                            <th>Data</th>
                            <th>Unidade</th>
                            <th>Morador</th>
                            <th>Descrição</th>
                            <th>Funcionário Recebeu</th>
                            <th>Funcionário Entregou</th>
                            <th>Status</th>
                        </tr>
                    </thead>
                    <tbody></tbody>
                </table>
            </div>
        </div>
    </div>
    <footer style="text-align:center; padding: 18px 0; color: var(--gray); font-size:1rem;">
        by Jefferson Oliveira <sup>&reg;</sup>
    </footer>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <script src="script.js"></script>
    <script>
        $(document).ready(function() {
            // Inicialização
            updateCurrentDate();
            renderTables();

            // Alternar tema
            $('#toggle-theme').click(function() {
                $('body').toggleClass('dark-mode'); // <-- troque aqui!
                const icon = $('#theme-icon');
                if ($('body').hasClass('dark-mode')) { // <-- troque aqui!
                    icon.removeClass('fa-moon').addClass('fa-sun');
                } else {
                    icon.removeClass('fa-sun').addClass('fa-moon');
                }
            });

            // Atualizar contagem de pendências
            updatePendingCount();
        });
    </script>
</body>
</html>